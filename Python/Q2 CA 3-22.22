{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [],
   "source": [
    "#import packages\n",
    "import pandas as pd\n",
    "import numpy as np\n",
    "import matplotlib.pyplot as plt\n",
    "import seaborn as sns\n",
    "import os\n",
    "from statsmodels.stats.anova import anova_lm\n",
    "from statsmodels.formula.api import ols"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [],
   "source": [
    "#change working directory\n",
    "os.chdir('C:\\\\Users\\\\emili\\\\Desktop')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {},
   "outputs": [],
   "source": [
    "#upload cleaned datasets (manually removed records with no FRD Personnel Start Year and\n",
    "#removed rows with no procedures or medications)\n",
    "Pats = pd.read_csv('FCFRDDataQ2ProcedureUpdated.csv')\n",
    "Meds = pd.read_csv('FCFRDDataQ2MedicationUpdated.csv')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Patient ID</th>\n",
       "      <th>FRDPersonnelID</th>\n",
       "      <th>Tenure</th>\n",
       "      <th>Procedure Performed</th>\n",
       "      <th>PatientOutcome</th>\n",
       "      <th>Procedure Performed Description</th>\n",
       "      <th>ProcedureCategory</th>\n",
       "      <th>FRDPersonnelStartDate</th>\n",
       "      <th>TenureYears</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>510809</td>\n",
       "      <td>B0D3C99E-9E01-E211-B5F5-78E7D18CFD3C</td>\n",
       "      <td>Senior Provider (11+ Yrs of Exp)</td>\n",
       "      <td>Procedure Performed</td>\n",
       "      <td>Treated &amp; Transported</td>\n",
       "      <td>CV - ECG - 12 Lead Obtained</td>\n",
       "      <td>CV</td>\n",
       "      <td>1/14/2002</td>\n",
       "      <td>19</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>1342992</td>\n",
       "      <td>BDD8C99E-9E01-E211-B5F5-78E7D18CFD3C</td>\n",
       "      <td>Senior Provider (11+ Yrs of Exp)</td>\n",
       "      <td>Procedure Performed</td>\n",
       "      <td>Treated &amp; Transported</td>\n",
       "      <td>CV - ECG - Limb Lead Monitoring</td>\n",
       "      <td>CV</td>\n",
       "      <td>5/2/2005</td>\n",
       "      <td>16</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>1342992</td>\n",
       "      <td>BDD8C99E-9E01-E211-B5F5-78E7D18CFD3C</td>\n",
       "      <td>Senior Provider (11+ Yrs of Exp)</td>\n",
       "      <td>Procedure Performed</td>\n",
       "      <td>Treated &amp; Transported</td>\n",
       "      <td>Assess - Blood Glucose Level (BGL)</td>\n",
       "      <td>Assess</td>\n",
       "      <td>5/2/2005</td>\n",
       "      <td>16</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>1342992</td>\n",
       "      <td>BDD8C99E-9E01-E211-B5F5-78E7D18CFD3C</td>\n",
       "      <td>Senior Provider (11+ Yrs of Exp)</td>\n",
       "      <td>Procedure Performed</td>\n",
       "      <td>Treated &amp; Transported</td>\n",
       "      <td>IV Start - Extremity Vein (arm or leg)</td>\n",
       "      <td>IV Start</td>\n",
       "      <td>5/2/2005</td>\n",
       "      <td>16</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>1342992</td>\n",
       "      <td>BDD8C99E-9E01-E211-B5F5-78E7D18CFD3C</td>\n",
       "      <td>Senior Provider (11+ Yrs of Exp)</td>\n",
       "      <td>Procedure Performed</td>\n",
       "      <td>Treated &amp; Transported</td>\n",
       "      <td>IV Start - Extremity Vein (arm or leg)</td>\n",
       "      <td>IV Start</td>\n",
       "      <td>5/2/2005</td>\n",
       "      <td>16</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>584325</td>\n",
       "      <td>977603</td>\n",
       "      <td>2A94129E-ED92-E211-A596-78E7D18C3D20</td>\n",
       "      <td>Professional Provider (4-10 Yrs of Exp)</td>\n",
       "      <td>Procedure Performed</td>\n",
       "      <td>Treated &amp; Transported</td>\n",
       "      <td>CV - ECG - 12 Lead Obtained</td>\n",
       "      <td>CV</td>\n",
       "      <td>9/24/2012</td>\n",
       "      <td>9</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>584326</td>\n",
       "      <td>976376</td>\n",
       "      <td>3A8BFAB7-09D1-4FBF-AB04-61C3D9C089DD</td>\n",
       "      <td>Professional Provider (4-10 Yrs of Exp)</td>\n",
       "      <td>Procedure Performed</td>\n",
       "      <td>Treated &amp; Transported</td>\n",
       "      <td>IV Start - Extremity Vein (arm or leg)</td>\n",
       "      <td>IV Start</td>\n",
       "      <td>2/8/2016</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>584327</td>\n",
       "      <td>952669</td>\n",
       "      <td>3FAC2855-4540-495C-A0C7-C5349092D115</td>\n",
       "      <td>Professional Provider (4-10 Yrs of Exp)</td>\n",
       "      <td>Procedure Performed</td>\n",
       "      <td>Treated &amp; Transported</td>\n",
       "      <td>CV - ECG - 12 Lead Obtained</td>\n",
       "      <td>CV</td>\n",
       "      <td>9/21/2015</td>\n",
       "      <td>6</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>584328</td>\n",
       "      <td>952778</td>\n",
       "      <td>3FAC2855-4540-495C-A0C7-C5349092D115</td>\n",
       "      <td>Professional Provider (4-10 Yrs of Exp)</td>\n",
       "      <td>Procedure Performed</td>\n",
       "      <td>Treated &amp; Transported</td>\n",
       "      <td>CV - ECG - 12 Lead Obtained</td>\n",
       "      <td>CV</td>\n",
       "      <td>9/21/2015</td>\n",
       "      <td>6</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>584329</td>\n",
       "      <td>950807</td>\n",
       "      <td>840A3D06-DE53-4A29-A7DB-0E4469B4A7F9</td>\n",
       "      <td>Professional Provider (4-10 Yrs of Exp)</td>\n",
       "      <td>Procedure Performed</td>\n",
       "      <td>Treated &amp; Transported</td>\n",
       "      <td>IV Start - Extremity Vein (arm or leg)</td>\n",
       "      <td>IV Start</td>\n",
       "      <td>9/19/2016</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>584330 rows × 9 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "        Patient ID                        FRDPersonnelID  \\\n",
       "0           510809  B0D3C99E-9E01-E211-B5F5-78E7D18CFD3C   \n",
       "1          1342992  BDD8C99E-9E01-E211-B5F5-78E7D18CFD3C   \n",
       "2          1342992  BDD8C99E-9E01-E211-B5F5-78E7D18CFD3C   \n",
       "3          1342992  BDD8C99E-9E01-E211-B5F5-78E7D18CFD3C   \n",
       "4          1342992  BDD8C99E-9E01-E211-B5F5-78E7D18CFD3C   \n",
       "...            ...                                   ...   \n",
       "584325      977603  2A94129E-ED92-E211-A596-78E7D18C3D20   \n",
       "584326      976376  3A8BFAB7-09D1-4FBF-AB04-61C3D9C089DD   \n",
       "584327      952669  3FAC2855-4540-495C-A0C7-C5349092D115   \n",
       "584328      952778  3FAC2855-4540-495C-A0C7-C5349092D115   \n",
       "584329      950807  840A3D06-DE53-4A29-A7DB-0E4469B4A7F9   \n",
       "\n",
       "                                         Tenure  Procedure Performed  \\\n",
       "0              Senior Provider (11+ Yrs of Exp)  Procedure Performed   \n",
       "1              Senior Provider (11+ Yrs of Exp)  Procedure Performed   \n",
       "2              Senior Provider (11+ Yrs of Exp)  Procedure Performed   \n",
       "3              Senior Provider (11+ Yrs of Exp)  Procedure Performed   \n",
       "4              Senior Provider (11+ Yrs of Exp)  Procedure Performed   \n",
       "...                                         ...                  ...   \n",
       "584325  Professional Provider (4-10 Yrs of Exp)  Procedure Performed   \n",
       "584326  Professional Provider (4-10 Yrs of Exp)  Procedure Performed   \n",
       "584327  Professional Provider (4-10 Yrs of Exp)  Procedure Performed   \n",
       "584328  Professional Provider (4-10 Yrs of Exp)  Procedure Performed   \n",
       "584329  Professional Provider (4-10 Yrs of Exp)  Procedure Performed   \n",
       "\n",
       "               PatientOutcome         Procedure Performed Description  \\\n",
       "0       Treated & Transported             CV - ECG - 12 Lead Obtained   \n",
       "1       Treated & Transported         CV - ECG - Limb Lead Monitoring   \n",
       "2       Treated & Transported      Assess - Blood Glucose Level (BGL)   \n",
       "3       Treated & Transported  IV Start - Extremity Vein (arm or leg)   \n",
       "4       Treated & Transported  IV Start - Extremity Vein (arm or leg)   \n",
       "...                       ...                                     ...   \n",
       "584325  Treated & Transported             CV - ECG - 12 Lead Obtained   \n",
       "584326  Treated & Transported  IV Start - Extremity Vein (arm or leg)   \n",
       "584327  Treated & Transported             CV - ECG - 12 Lead Obtained   \n",
       "584328  Treated & Transported             CV - ECG - 12 Lead Obtained   \n",
       "584329  Treated & Transported  IV Start - Extremity Vein (arm or leg)   \n",
       "\n",
       "       ProcedureCategory FRDPersonnelStartDate  TenureYears  \n",
       "0                     CV             1/14/2002           19  \n",
       "1                     CV              5/2/2005           16  \n",
       "2                 Assess              5/2/2005           16  \n",
       "3               IV Start              5/2/2005           16  \n",
       "4               IV Start              5/2/2005           16  \n",
       "...                  ...                   ...          ...  \n",
       "584325                CV             9/24/2012            9  \n",
       "584326          IV Start              2/8/2016            5  \n",
       "584327                CV             9/21/2015            6  \n",
       "584328                CV             9/21/2015            6  \n",
       "584329          IV Start             9/19/2016            5  \n",
       "\n",
       "[584330 rows x 9 columns]"
      ]
     },
     "execution_count": 20,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "Pats"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>PatientID</th>\n",
       "      <th>FRDPersonnelID</th>\n",
       "      <th>Tenure</th>\n",
       "      <th>MedicationPrescribed</th>\n",
       "      <th>PatientOutcome</th>\n",
       "      <th>MedicationGivenDescription</th>\n",
       "      <th>FRDPersonnelStartDate</th>\n",
       "      <th>TenureYears</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>1342992</td>\n",
       "      <td>BDD8C99E-9E01-E211-B5F5-78E7D18CFD3C</td>\n",
       "      <td>Senior Provider (11+ Yrs of Exp)</td>\n",
       "      <td>Medication Presribed</td>\n",
       "      <td>Treated &amp; Transported</td>\n",
       "      <td>Normal saline</td>\n",
       "      <td>5/2/2005</td>\n",
       "      <td>16</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>1342992</td>\n",
       "      <td>BDD8C99E-9E01-E211-B5F5-78E7D18CFD3C</td>\n",
       "      <td>Senior Provider (11+ Yrs of Exp)</td>\n",
       "      <td>Medication Presribed</td>\n",
       "      <td>Treated &amp; Transported</td>\n",
       "      <td>Normal saline</td>\n",
       "      <td>5/2/2005</td>\n",
       "      <td>16</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>1342992</td>\n",
       "      <td>BDD8C99E-9E01-E211-B5F5-78E7D18CFD3C</td>\n",
       "      <td>Senior Provider (11+ Yrs of Exp)</td>\n",
       "      <td>Medication Presribed</td>\n",
       "      <td>Treated &amp; Transported</td>\n",
       "      <td>Normal saline</td>\n",
       "      <td>5/2/2005</td>\n",
       "      <td>16</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>1342992</td>\n",
       "      <td>BDD8C99E-9E01-E211-B5F5-78E7D18CFD3C</td>\n",
       "      <td>Senior Provider (11+ Yrs of Exp)</td>\n",
       "      <td>Medication Presribed</td>\n",
       "      <td>Treated &amp; Transported</td>\n",
       "      <td>Normal saline</td>\n",
       "      <td>5/2/2005</td>\n",
       "      <td>16</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>1343781</td>\n",
       "      <td>BDD8C99E-9E01-E211-B5F5-78E7D18CFD3C</td>\n",
       "      <td>Senior Provider (11+ Yrs of Exp)</td>\n",
       "      <td>Medication Presribed</td>\n",
       "      <td>Treated &amp; Transported</td>\n",
       "      <td>Ondansetron (Zofran)</td>\n",
       "      <td>5/2/2005</td>\n",
       "      <td>16</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>385864</td>\n",
       "      <td>887706</td>\n",
       "      <td>66D3C99E-9E01-E211-B5F5-78E7D18CFD3C</td>\n",
       "      <td>Senior Provider (11+ Yrs of Exp)</td>\n",
       "      <td>Medication Presribed</td>\n",
       "      <td>Patient Dead at Scene (EMS CPR Attempted)</td>\n",
       "      <td>Oxygen</td>\n",
       "      <td>8/18/1997</td>\n",
       "      <td>24</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>385865</td>\n",
       "      <td>1035778</td>\n",
       "      <td>66D3C99E-9E01-E211-B5F5-78E7D18CFD3C</td>\n",
       "      <td>Senior Provider (11+ Yrs of Exp)</td>\n",
       "      <td>Medication Presribed</td>\n",
       "      <td>Patient Dead at Scene (EMS CPR Attempted)</td>\n",
       "      <td>Oxygen</td>\n",
       "      <td>8/18/1997</td>\n",
       "      <td>24</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>385866</td>\n",
       "      <td>978169</td>\n",
       "      <td>8BD4C99E-9E01-E211-B5F5-78E7D18CFD3C</td>\n",
       "      <td>Senior Provider (11+ Yrs of Exp)</td>\n",
       "      <td>Medication Presribed</td>\n",
       "      <td>Patient Refusal  (AMA)</td>\n",
       "      <td>Naloxone (Narcan)</td>\n",
       "      <td>8/15/1988</td>\n",
       "      <td>33</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>385867</td>\n",
       "      <td>978169</td>\n",
       "      <td>8BD4C99E-9E01-E211-B5F5-78E7D18CFD3C</td>\n",
       "      <td>Senior Provider (11+ Yrs of Exp)</td>\n",
       "      <td>Medication Presribed</td>\n",
       "      <td>Patient Refusal  (AMA)</td>\n",
       "      <td>Oxygen</td>\n",
       "      <td>8/15/1988</td>\n",
       "      <td>33</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>385868</td>\n",
       "      <td>978169</td>\n",
       "      <td>8BD4C99E-9E01-E211-B5F5-78E7D18CFD3C</td>\n",
       "      <td>Senior Provider (11+ Yrs of Exp)</td>\n",
       "      <td>Medication Presribed</td>\n",
       "      <td>Patient Refusal  (AMA)</td>\n",
       "      <td>Naloxone (Narcan)</td>\n",
       "      <td>8/15/1988</td>\n",
       "      <td>33</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>385869 rows × 8 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "        PatientID                        FRDPersonnelID  \\\n",
       "0         1342992  BDD8C99E-9E01-E211-B5F5-78E7D18CFD3C   \n",
       "1         1342992  BDD8C99E-9E01-E211-B5F5-78E7D18CFD3C   \n",
       "2         1342992  BDD8C99E-9E01-E211-B5F5-78E7D18CFD3C   \n",
       "3         1342992  BDD8C99E-9E01-E211-B5F5-78E7D18CFD3C   \n",
       "4         1343781  BDD8C99E-9E01-E211-B5F5-78E7D18CFD3C   \n",
       "...           ...                                   ...   \n",
       "385864     887706  66D3C99E-9E01-E211-B5F5-78E7D18CFD3C   \n",
       "385865    1035778  66D3C99E-9E01-E211-B5F5-78E7D18CFD3C   \n",
       "385866     978169  8BD4C99E-9E01-E211-B5F5-78E7D18CFD3C   \n",
       "385867     978169  8BD4C99E-9E01-E211-B5F5-78E7D18CFD3C   \n",
       "385868     978169  8BD4C99E-9E01-E211-B5F5-78E7D18CFD3C   \n",
       "\n",
       "                                  Tenure  MedicationPrescribed  \\\n",
       "0       Senior Provider (11+ Yrs of Exp)  Medication Presribed   \n",
       "1       Senior Provider (11+ Yrs of Exp)  Medication Presribed   \n",
       "2       Senior Provider (11+ Yrs of Exp)  Medication Presribed   \n",
       "3       Senior Provider (11+ Yrs of Exp)  Medication Presribed   \n",
       "4       Senior Provider (11+ Yrs of Exp)  Medication Presribed   \n",
       "...                                  ...                   ...   \n",
       "385864  Senior Provider (11+ Yrs of Exp)  Medication Presribed   \n",
       "385865  Senior Provider (11+ Yrs of Exp)  Medication Presribed   \n",
       "385866  Senior Provider (11+ Yrs of Exp)  Medication Presribed   \n",
       "385867  Senior Provider (11+ Yrs of Exp)  Medication Presribed   \n",
       "385868  Senior Provider (11+ Yrs of Exp)  Medication Presribed   \n",
       "\n",
       "                                   PatientOutcome MedicationGivenDescription  \\\n",
       "0                           Treated & Transported              Normal saline   \n",
       "1                           Treated & Transported              Normal saline   \n",
       "2                           Treated & Transported              Normal saline   \n",
       "3                           Treated & Transported              Normal saline   \n",
       "4                           Treated & Transported       Ondansetron (Zofran)   \n",
       "...                                           ...                        ...   \n",
       "385864  Patient Dead at Scene (EMS CPR Attempted)                     Oxygen   \n",
       "385865  Patient Dead at Scene (EMS CPR Attempted)                     Oxygen   \n",
       "385866                     Patient Refusal  (AMA)          Naloxone (Narcan)   \n",
       "385867                     Patient Refusal  (AMA)                     Oxygen   \n",
       "385868                     Patient Refusal  (AMA)          Naloxone (Narcan)   \n",
       "\n",
       "       FRDPersonnelStartDate  TenureYears  \n",
       "0                   5/2/2005           16  \n",
       "1                   5/2/2005           16  \n",
       "2                   5/2/2005           16  \n",
       "3                   5/2/2005           16  \n",
       "4                   5/2/2005           16  \n",
       "...                      ...          ...  \n",
       "385864             8/18/1997           24  \n",
       "385865             8/18/1997           24  \n",
       "385866             8/15/1988           33  \n",
       "385867             8/15/1988           33  \n",
       "385868             8/15/1988           33  \n",
       "\n",
       "[385869 rows x 8 columns]"
      ]
     },
     "execution_count": 21,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "Meds"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {},
   "outputs": [],
   "source": [
    "#chisquare test for procedures category and tenure\n",
    "contingenc_table = pd.crosstab(Pats['ProcedureCategory'],\n",
    "                              Pats['Tenure'],\n",
    "                              margins = True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th>Tenure</th>\n",
       "      <th>Junior Provider (0-3 Yrs of Exp)</th>\n",
       "      <th>Professional Provider (4-10 Yrs of Exp)</th>\n",
       "      <th>Senior Provider (11+ Yrs of Exp)</th>\n",
       "      <th>All</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>ProcedureCategory</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>Airway</td>\n",
       "      <td>3741</td>\n",
       "      <td>10881</td>\n",
       "      <td>10493</td>\n",
       "      <td>25115</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Assess</td>\n",
       "      <td>7753</td>\n",
       "      <td>20120</td>\n",
       "      <td>14526</td>\n",
       "      <td>42399</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Behavior</td>\n",
       "      <td>40</td>\n",
       "      <td>113</td>\n",
       "      <td>98</td>\n",
       "      <td>251</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>CPR</td>\n",
       "      <td>3023</td>\n",
       "      <td>8850</td>\n",
       "      <td>8983</td>\n",
       "      <td>20856</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>CV</td>\n",
       "      <td>26859</td>\n",
       "      <td>101595</td>\n",
       "      <td>90605</td>\n",
       "      <td>219059</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Cricothyrotomy</td>\n",
       "      <td>2</td>\n",
       "      <td>22</td>\n",
       "      <td>74</td>\n",
       "      <td>98</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Decompression</td>\n",
       "      <td>66</td>\n",
       "      <td>164</td>\n",
       "      <td>111</td>\n",
       "      <td>341</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Electrocardiographic monitoring</td>\n",
       "      <td>808</td>\n",
       "      <td>6625</td>\n",
       "      <td>5591</td>\n",
       "      <td>13024</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Enviro</td>\n",
       "      <td>230</td>\n",
       "      <td>797</td>\n",
       "      <td>946</td>\n",
       "      <td>1973</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Gen'l</td>\n",
       "      <td>30</td>\n",
       "      <td>101</td>\n",
       "      <td>65</td>\n",
       "      <td>196</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Hemorrhage Clamp</td>\n",
       "      <td>21</td>\n",
       "      <td>62</td>\n",
       "      <td>50</td>\n",
       "      <td>133</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>IO Start</td>\n",
       "      <td>3036</td>\n",
       "      <td>10097</td>\n",
       "      <td>8857</td>\n",
       "      <td>21990</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>IV</td>\n",
       "      <td>45</td>\n",
       "      <td>146</td>\n",
       "      <td>104</td>\n",
       "      <td>295</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>IV Start</td>\n",
       "      <td>23057</td>\n",
       "      <td>84288</td>\n",
       "      <td>74547</td>\n",
       "      <td>181892</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Infectious</td>\n",
       "      <td>0</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>6</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Intubation</td>\n",
       "      <td>1171</td>\n",
       "      <td>4211</td>\n",
       "      <td>3238</td>\n",
       "      <td>8620</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Laryngoscopy</td>\n",
       "      <td>41</td>\n",
       "      <td>124</td>\n",
       "      <td>113</td>\n",
       "      <td>278</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>MS</td>\n",
       "      <td>2515</td>\n",
       "      <td>8551</td>\n",
       "      <td>8880</td>\n",
       "      <td>19946</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>OB</td>\n",
       "      <td>4</td>\n",
       "      <td>18</td>\n",
       "      <td>14</td>\n",
       "      <td>36</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Pelvic splint device</td>\n",
       "      <td>15</td>\n",
       "      <td>96</td>\n",
       "      <td>84</td>\n",
       "      <td>195</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>ROSC (Assessment Finding)</td>\n",
       "      <td>59</td>\n",
       "      <td>343</td>\n",
       "      <td>286</td>\n",
       "      <td>688</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Resp</td>\n",
       "      <td>2915</td>\n",
       "      <td>9222</td>\n",
       "      <td>8319</td>\n",
       "      <td>20456</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Warming</td>\n",
       "      <td>8</td>\n",
       "      <td>18</td>\n",
       "      <td>11</td>\n",
       "      <td>37</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Wound</td>\n",
       "      <td>109</td>\n",
       "      <td>309</td>\n",
       "      <td>320</td>\n",
       "      <td>738</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Wound Care</td>\n",
       "      <td>841</td>\n",
       "      <td>2407</td>\n",
       "      <td>2432</td>\n",
       "      <td>5680</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Wound Packing</td>\n",
       "      <td>0</td>\n",
       "      <td>13</td>\n",
       "      <td>15</td>\n",
       "      <td>28</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>All</td>\n",
       "      <td>76389</td>\n",
       "      <td>269176</td>\n",
       "      <td>238765</td>\n",
       "      <td>584330</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "Tenure                           Junior Provider (0-3 Yrs of Exp)  \\\n",
       "ProcedureCategory                                                   \n",
       "Airway                                                       3741   \n",
       "Assess                                                       7753   \n",
       "Behavior                                                       40   \n",
       "CPR                                                          3023   \n",
       "CV                                                          26859   \n",
       "Cricothyrotomy                                                  2   \n",
       "Decompression                                                  66   \n",
       "Electrocardiographic monitoring                               808   \n",
       "Enviro                                                        230   \n",
       "Gen'l                                                          30   \n",
       "Hemorrhage Clamp                                               21   \n",
       "IO Start                                                     3036   \n",
       "IV                                                             45   \n",
       "IV Start                                                    23057   \n",
       "Infectious                                                      0   \n",
       "Intubation                                                   1171   \n",
       "Laryngoscopy                                                   41   \n",
       "MS                                                           2515   \n",
       "OB                                                              4   \n",
       "Pelvic splint device                                           15   \n",
       "ROSC (Assessment Finding)                                      59   \n",
       "Resp                                                         2915   \n",
       "Warming                                                         8   \n",
       "Wound                                                         109   \n",
       "Wound Care                                                    841   \n",
       "Wound Packing                                                   0   \n",
       "All                                                         76389   \n",
       "\n",
       "Tenure                           Professional Provider (4-10 Yrs of Exp)  \\\n",
       "ProcedureCategory                                                          \n",
       "Airway                                                             10881   \n",
       "Assess                                                             20120   \n",
       "Behavior                                                             113   \n",
       "CPR                                                                 8850   \n",
       "CV                                                                101595   \n",
       "Cricothyrotomy                                                        22   \n",
       "Decompression                                                        164   \n",
       "Electrocardiographic monitoring                                     6625   \n",
       "Enviro                                                               797   \n",
       "Gen'l                                                                101   \n",
       "Hemorrhage Clamp                                                      62   \n",
       "IO Start                                                           10097   \n",
       "IV                                                                   146   \n",
       "IV Start                                                           84288   \n",
       "Infectious                                                             3   \n",
       "Intubation                                                          4211   \n",
       "Laryngoscopy                                                         124   \n",
       "MS                                                                  8551   \n",
       "OB                                                                    18   \n",
       "Pelvic splint device                                                  96   \n",
       "ROSC (Assessment Finding)                                            343   \n",
       "Resp                                                                9222   \n",
       "Warming                                                               18   \n",
       "Wound                                                                309   \n",
       "Wound Care                                                          2407   \n",
       "Wound Packing                                                         13   \n",
       "All                                                               269176   \n",
       "\n",
       "Tenure                           Senior Provider (11+ Yrs of Exp)     All  \n",
       "ProcedureCategory                                                          \n",
       "Airway                                                      10493   25115  \n",
       "Assess                                                      14526   42399  \n",
       "Behavior                                                       98     251  \n",
       "CPR                                                          8983   20856  \n",
       "CV                                                          90605  219059  \n",
       "Cricothyrotomy                                                 74      98  \n",
       "Decompression                                                 111     341  \n",
       "Electrocardiographic monitoring                              5591   13024  \n",
       "Enviro                                                        946    1973  \n",
       "Gen'l                                                          65     196  \n",
       "Hemorrhage Clamp                                               50     133  \n",
       "IO Start                                                     8857   21990  \n",
       "IV                                                            104     295  \n",
       "IV Start                                                    74547  181892  \n",
       "Infectious                                                      3       6  \n",
       "Intubation                                                   3238    8620  \n",
       "Laryngoscopy                                                  113     278  \n",
       "MS                                                           8880   19946  \n",
       "OB                                                             14      36  \n",
       "Pelvic splint device                                           84     195  \n",
       "ROSC (Assessment Finding)                                     286     688  \n",
       "Resp                                                         8319   20456  \n",
       "Warming                                                        11      37  \n",
       "Wound                                                         320     738  \n",
       "Wound Care                                                   2432    5680  \n",
       "Wound Packing                                                  15      28  \n",
       "All                                                        238765  584330  "
      ]
     },
     "execution_count": 23,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "contingenc_table"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(1481.731818699155, 2.452170245449724e-300)"
      ]
     },
     "execution_count": 24,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "f_obs = np.array([contingenc_table.iloc[0][0:2].values,\n",
    "                  contingenc_table.iloc[1][0:2].values,\n",
    "                  contingenc_table.iloc[2][0:2].values,\n",
    "                  contingenc_table.iloc[3][0:2].values,\n",
    "                  contingenc_table.iloc[4][0:2].values,\n",
    "                  contingenc_table.iloc[5][0:2].values,\n",
    "                  contingenc_table.iloc[6][0:2].values,\n",
    "                  contingenc_table.iloc[7][0:2].values,\n",
    "                  contingenc_table.iloc[8][0:2].values,\n",
    "                  contingenc_table.iloc[9][0:2].values,\n",
    "                  contingenc_table.iloc[10][0:2].values,\n",
    "                  contingenc_table.iloc[11][0:2].values,\n",
    "                  contingenc_table.iloc[12][0:2].values,\n",
    "                  contingenc_table.iloc[13][0:2].values,\n",
    "                  contingenc_table.iloc[15][0:2].values,\n",
    "                  contingenc_table.iloc[16][0:2].values,\n",
    "                  contingenc_table.iloc[17][0:2].values,\n",
    "                  contingenc_table.iloc[19][0:2].values,\n",
    "                  contingenc_table.iloc[20][0:2].values,\n",
    "                  contingenc_table.iloc[21][0:2].values,\n",
    "                  contingenc_table.iloc[22][0:2].values,\n",
    "                  contingenc_table.iloc[23][0:2].values,\n",
    "                  contingenc_table.iloc[24][0:2].values])\n",
    "from scipy import stats\n",
    "stats.chi2_contingency(f_obs)[0:2]\n",
    "\n",
    "#P-value is 2.452170245449724e-300 which means\n",
    "#there is a relationship between the category of procedures performed and provider tenure"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "0.06548529809139285\n"
     ]
    }
   ],
   "source": [
    "X2 = stats.chi2_contingency(f_obs)[0]\n",
    "n = np.sum(f_obs)\n",
    "minDim = min(f_obs.shape)-1\n",
    "V = np.sqrt((X2/n)/minDim)\n",
    "print(V)\n",
    " \n",
    "#Given the value of 0.065 we can say that the association of procedures performed and provider tenure is moderate"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [],
   "source": [
    "#chisquare test for medications and tenure\n",
    "contingenc_table = pd.crosstab(Meds['MedicationGivenDescription'],\n",
    "                              Meds['Tenure'],\n",
    "                              margins = True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th>Tenure</th>\n",
       "      <th>Junior Provider (0-3 Yrs of Exp)</th>\n",
       "      <th>Professional Provider (4-10 Yrs of Exp)</th>\n",
       "      <th>Senior Provider (11+ Yrs of Exp)</th>\n",
       "      <th>All</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>MedicationGivenDescription</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>Acetylsalicylic Acid (Aspirin, ASA)</td>\n",
       "      <td>3227</td>\n",
       "      <td>12522</td>\n",
       "      <td>11241</td>\n",
       "      <td>26990</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Adenosine (Adenocard)</td>\n",
       "      <td>416</td>\n",
       "      <td>1390</td>\n",
       "      <td>1057</td>\n",
       "      <td>2863</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Albuterol (Ventolin)</td>\n",
       "      <td>1740</td>\n",
       "      <td>7871</td>\n",
       "      <td>6785</td>\n",
       "      <td>16396</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Amiodarone (Cordarone)</td>\n",
       "      <td>875</td>\n",
       "      <td>3454</td>\n",
       "      <td>3148</td>\n",
       "      <td>7477</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Atropine (Atropine Sulfate)</td>\n",
       "      <td>351</td>\n",
       "      <td>1267</td>\n",
       "      <td>1128</td>\n",
       "      <td>2746</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Calcium Chloride (10%)</td>\n",
       "      <td>32</td>\n",
       "      <td>91</td>\n",
       "      <td>90</td>\n",
       "      <td>213</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Cyanokit (Hydroxocobalamin)</td>\n",
       "      <td>7</td>\n",
       "      <td>46</td>\n",
       "      <td>52</td>\n",
       "      <td>105</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Dextrose 10 % (D10)</td>\n",
       "      <td>724</td>\n",
       "      <td>2335</td>\n",
       "      <td>1974</td>\n",
       "      <td>5033</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Dextrose 50 % (D50)</td>\n",
       "      <td>529</td>\n",
       "      <td>1998</td>\n",
       "      <td>2115</td>\n",
       "      <td>4642</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Diphenhydramine (Benadryl)</td>\n",
       "      <td>293</td>\n",
       "      <td>1223</td>\n",
       "      <td>1153</td>\n",
       "      <td>2669</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Epinephrine 0.1 MG/ML (1:10,000)</td>\n",
       "      <td>12181</td>\n",
       "      <td>40424</td>\n",
       "      <td>37200</td>\n",
       "      <td>89805</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Epinephrine 1 MG/ML (1:1,000)</td>\n",
       "      <td>331</td>\n",
       "      <td>1097</td>\n",
       "      <td>1098</td>\n",
       "      <td>2526</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Fentanyl Citrate (Sublimaze)</td>\n",
       "      <td>3102</td>\n",
       "      <td>11260</td>\n",
       "      <td>10387</td>\n",
       "      <td>24749</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Glucagon (Glucagen)</td>\n",
       "      <td>131</td>\n",
       "      <td>583</td>\n",
       "      <td>508</td>\n",
       "      <td>1222</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Glucose (Oral)</td>\n",
       "      <td>485</td>\n",
       "      <td>1498</td>\n",
       "      <td>1316</td>\n",
       "      <td>3299</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Ipratropium Bromide(Atrovent)</td>\n",
       "      <td>1243</td>\n",
       "      <td>5749</td>\n",
       "      <td>4830</td>\n",
       "      <td>11822</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Ketamine (Ketalar)</td>\n",
       "      <td>388</td>\n",
       "      <td>1180</td>\n",
       "      <td>950</td>\n",
       "      <td>2518</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Lidocaine (2%) (Xylocaine)</td>\n",
       "      <td>126</td>\n",
       "      <td>301</td>\n",
       "      <td>264</td>\n",
       "      <td>691</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Magnesium Sulfate (50%)</td>\n",
       "      <td>78</td>\n",
       "      <td>295</td>\n",
       "      <td>239</td>\n",
       "      <td>612</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Methylprednisolone (Solu-Medrol)</td>\n",
       "      <td>512</td>\n",
       "      <td>1942</td>\n",
       "      <td>1772</td>\n",
       "      <td>4226</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Midazolam (Versed)</td>\n",
       "      <td>1063</td>\n",
       "      <td>3231</td>\n",
       "      <td>2772</td>\n",
       "      <td>7066</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Morphine (Morphine Sulfate)</td>\n",
       "      <td>15</td>\n",
       "      <td>37</td>\n",
       "      <td>106</td>\n",
       "      <td>158</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Naloxone (Narcan)</td>\n",
       "      <td>1797</td>\n",
       "      <td>6106</td>\n",
       "      <td>5766</td>\n",
       "      <td>13669</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Nitroglycerin</td>\n",
       "      <td>2078</td>\n",
       "      <td>8462</td>\n",
       "      <td>8899</td>\n",
       "      <td>19439</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Norepinephrine (Levophed)</td>\n",
       "      <td>62</td>\n",
       "      <td>164</td>\n",
       "      <td>148</td>\n",
       "      <td>374</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Normal saline</td>\n",
       "      <td>6659</td>\n",
       "      <td>22524</td>\n",
       "      <td>16813</td>\n",
       "      <td>45996</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Ondansetron (Zofran)</td>\n",
       "      <td>3656</td>\n",
       "      <td>12755</td>\n",
       "      <td>11507</td>\n",
       "      <td>27918</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Oxygen</td>\n",
       "      <td>8385</td>\n",
       "      <td>26647</td>\n",
       "      <td>23511</td>\n",
       "      <td>58543</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Sodium Bicarbonate (4.2%) (Infant)</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>12</td>\n",
       "      <td>12</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Sodium Bicarbonate (8.4%)</td>\n",
       "      <td>189</td>\n",
       "      <td>542</td>\n",
       "      <td>521</td>\n",
       "      <td>1252</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Tetracaine</td>\n",
       "      <td>6</td>\n",
       "      <td>15</td>\n",
       "      <td>11</td>\n",
       "      <td>32</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>Tranexamic Acid (TXA)</td>\n",
       "      <td>133</td>\n",
       "      <td>417</td>\n",
       "      <td>236</td>\n",
       "      <td>786</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>All</td>\n",
       "      <td>50814</td>\n",
       "      <td>177426</td>\n",
       "      <td>157609</td>\n",
       "      <td>385849</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "Tenure                               Junior Provider (0-3 Yrs of Exp)  \\\n",
       "MedicationGivenDescription                                              \n",
       "Acetylsalicylic Acid (Aspirin, ASA)                              3227   \n",
       "Adenosine (Adenocard)                                             416   \n",
       "Albuterol (Ventolin)                                             1740   \n",
       "Amiodarone (Cordarone)                                            875   \n",
       "Atropine (Atropine Sulfate)                                       351   \n",
       "Calcium Chloride (10%)                                             32   \n",
       "Cyanokit (Hydroxocobalamin)                                         7   \n",
       "Dextrose 10 % (D10)                                               724   \n",
       "Dextrose 50 % (D50)                                               529   \n",
       "Diphenhydramine (Benadryl)                                        293   \n",
       "Epinephrine 0.1 MG/ML (1:10,000)                                12181   \n",
       "Epinephrine 1 MG/ML (1:1,000)                                     331   \n",
       "Fentanyl Citrate (Sublimaze)                                     3102   \n",
       "Glucagon (Glucagen)                                               131   \n",
       "Glucose (Oral)                                                    485   \n",
       "Ipratropium Bromide(Atrovent)                                    1243   \n",
       "Ketamine (Ketalar)                                                388   \n",
       "Lidocaine (2%) (Xylocaine)                                        126   \n",
       "Magnesium Sulfate (50%)                                            78   \n",
       "Methylprednisolone (Solu-Medrol)                                  512   \n",
       "Midazolam (Versed)                                               1063   \n",
       "Morphine (Morphine Sulfate)                                        15   \n",
       "Naloxone (Narcan)                                                1797   \n",
       "Nitroglycerin                                                    2078   \n",
       "Norepinephrine (Levophed)                                          62   \n",
       "Normal saline                                                    6659   \n",
       "Ondansetron (Zofran)                                             3656   \n",
       "Oxygen                                                           8385   \n",
       "Sodium Bicarbonate (4.2%) (Infant)                                  0   \n",
       "Sodium Bicarbonate (8.4%)                                         189   \n",
       "Tetracaine                                                          6   \n",
       "Tranexamic Acid (TXA)                                             133   \n",
       "All                                                             50814   \n",
       "\n",
       "Tenure                               Professional Provider (4-10 Yrs of Exp)  \\\n",
       "MedicationGivenDescription                                                     \n",
       "Acetylsalicylic Acid (Aspirin, ASA)                                    12522   \n",
       "Adenosine (Adenocard)                                                   1390   \n",
       "Albuterol (Ventolin)                                                    7871   \n",
       "Amiodarone (Cordarone)                                                  3454   \n",
       "Atropine (Atropine Sulfate)                                             1267   \n",
       "Calcium Chloride (10%)                                                    91   \n",
       "Cyanokit (Hydroxocobalamin)                                               46   \n",
       "Dextrose 10 % (D10)                                                     2335   \n",
       "Dextrose 50 % (D50)                                                     1998   \n",
       "Diphenhydramine (Benadryl)                                              1223   \n",
       "Epinephrine 0.1 MG/ML (1:10,000)                                       40424   \n",
       "Epinephrine 1 MG/ML (1:1,000)                                           1097   \n",
       "Fentanyl Citrate (Sublimaze)                                           11260   \n",
       "Glucagon (Glucagen)                                                      583   \n",
       "Glucose (Oral)                                                          1498   \n",
       "Ipratropium Bromide(Atrovent)                                           5749   \n",
       "Ketamine (Ketalar)                                                      1180   \n",
       "Lidocaine (2%) (Xylocaine)                                               301   \n",
       "Magnesium Sulfate (50%)                                                  295   \n",
       "Methylprednisolone (Solu-Medrol)                                        1942   \n",
       "Midazolam (Versed)                                                      3231   \n",
       "Morphine (Morphine Sulfate)                                               37   \n",
       "Naloxone (Narcan)                                                       6106   \n",
       "Nitroglycerin                                                           8462   \n",
       "Norepinephrine (Levophed)                                                164   \n",
       "Normal saline                                                          22524   \n",
       "Ondansetron (Zofran)                                                   12755   \n",
       "Oxygen                                                                 26647   \n",
       "Sodium Bicarbonate (4.2%) (Infant)                                         0   \n",
       "Sodium Bicarbonate (8.4%)                                                542   \n",
       "Tetracaine                                                                15   \n",
       "Tranexamic Acid (TXA)                                                    417   \n",
       "All                                                                   177426   \n",
       "\n",
       "Tenure                               Senior Provider (11+ Yrs of Exp)     All  \n",
       "MedicationGivenDescription                                                     \n",
       "Acetylsalicylic Acid (Aspirin, ASA)                             11241   26990  \n",
       "Adenosine (Adenocard)                                            1057    2863  \n",
       "Albuterol (Ventolin)                                             6785   16396  \n",
       "Amiodarone (Cordarone)                                           3148    7477  \n",
       "Atropine (Atropine Sulfate)                                      1128    2746  \n",
       "Calcium Chloride (10%)                                             90     213  \n",
       "Cyanokit (Hydroxocobalamin)                                        52     105  \n",
       "Dextrose 10 % (D10)                                              1974    5033  \n",
       "Dextrose 50 % (D50)                                              2115    4642  \n",
       "Diphenhydramine (Benadryl)                                       1153    2669  \n",
       "Epinephrine 0.1 MG/ML (1:10,000)                                37200   89805  \n",
       "Epinephrine 1 MG/ML (1:1,000)                                    1098    2526  \n",
       "Fentanyl Citrate (Sublimaze)                                    10387   24749  \n",
       "Glucagon (Glucagen)                                               508    1222  \n",
       "Glucose (Oral)                                                   1316    3299  \n",
       "Ipratropium Bromide(Atrovent)                                    4830   11822  \n",
       "Ketamine (Ketalar)                                                950    2518  \n",
       "Lidocaine (2%) (Xylocaine)                                        264     691  \n",
       "Magnesium Sulfate (50%)                                           239     612  \n",
       "Methylprednisolone (Solu-Medrol)                                 1772    4226  \n",
       "Midazolam (Versed)                                               2772    7066  \n",
       "Morphine (Morphine Sulfate)                                       106     158  \n",
       "Naloxone (Narcan)                                                5766   13669  \n",
       "Nitroglycerin                                                    8899   19439  \n",
       "Norepinephrine (Levophed)                                         148     374  \n",
       "Normal saline                                                   16813   45996  \n",
       "Ondansetron (Zofran)                                            11507   27918  \n",
       "Oxygen                                                          23511   58543  \n",
       "Sodium Bicarbonate (4.2%) (Infant)                                 12      12  \n",
       "Sodium Bicarbonate (8.4%)                                         521    1252  \n",
       "Tetracaine                                                         11      32  \n",
       "Tranexamic Acid (TXA)                                             236     786  \n",
       "All                                                            157609  385849  "
      ]
     },
     "execution_count": 13,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "contingenc_table"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(425.1813046285745, 5.751464621324116e-72)"
      ]
     },
     "execution_count": 14,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "f_obs = np.array([contingenc_table.iloc[0][0:2].values,\n",
    "                  contingenc_table.iloc[1][0:2].values,\n",
    "                  contingenc_table.iloc[2][0:2].values,\n",
    "                  contingenc_table.iloc[3][0:2].values,\n",
    "                  contingenc_table.iloc[4][0:2].values,\n",
    "                  contingenc_table.iloc[5][0:2].values,\n",
    "                  contingenc_table.iloc[6][0:2].values,\n",
    "                  contingenc_table.iloc[7][0:2].values,\n",
    "                  contingenc_table.iloc[8][0:2].values,\n",
    "                  contingenc_table.iloc[9][0:2].values,\n",
    "                  contingenc_table.iloc[10][0:2].values,\n",
    "                  contingenc_table.iloc[11][0:2].values,\n",
    "                  contingenc_table.iloc[12][0:2].values,\n",
    "                  contingenc_table.iloc[13][0:2].values,\n",
    "                  contingenc_table.iloc[14][0:2].values,\n",
    "                  contingenc_table.iloc[15][0:2].values,\n",
    "                  contingenc_table.iloc[16][0:2].values,\n",
    "                  contingenc_table.iloc[17][0:2].values,\n",
    "                  contingenc_table.iloc[18][0:2].values,\n",
    "                  contingenc_table.iloc[19][0:2].values,\n",
    "                  contingenc_table.iloc[20][0:2].values,\n",
    "                  contingenc_table.iloc[21][0:2].values,\n",
    "                  contingenc_table.iloc[22][0:2].values,\n",
    "                  contingenc_table.iloc[23][0:2].values,\n",
    "                  contingenc_table.iloc[24][0:2].values,\n",
    "                  contingenc_table.iloc[25][0:2].values,\n",
    "                  contingenc_table.iloc[26][0:2].values,\n",
    "                  contingenc_table.iloc[27][0:2].values,\n",
    "                  contingenc_table.iloc[29][0:2].values,\n",
    "                  contingenc_table.iloc[30][0:2].values]\n",
    "                )\n",
    "from scipy import stats\n",
    "stats.chi2_contingency(f_obs)[0:2]\n",
    "\n",
    "#P-value is close to zero 5.751464621324116e-72 which means that \n",
    "#there is a relationship between the category of medications given and provider tenure"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "0.04321306805148129\n"
     ]
    }
   ],
   "source": [
    "#cramer's V\n",
    "X2 = stats.chi2_contingency(f_obs)[0]\n",
    "n = np.sum(f_obs)\n",
    "minDim = min(f_obs.shape)-1\n",
    "V = np.sqrt((X2/n)/minDim)\n",
    "print(V)\n",
    "\n",
    "#Cramér's V is a number between 0 and 1 that indicates how strongly two categorical variables are associated. \n",
    "#Given the value of 0.04 we can say that the association of medications given and provider tenure is low"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.4"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
